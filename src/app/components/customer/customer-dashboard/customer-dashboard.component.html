<div class="container mx-auto px-4">
  <h1 class="text-3xl text-center">CUSTOMER DASHBOARD</h1>
  <hr />
  <h3 class="text-2xl text-red-500 md:text-blue-500 text-center">
    Items for sale
  </h3>
  <br />
  <mat-grid-list class="bg-white card-grid" cols="3" rowHeight="25rem">
    <mat-grid-tile
      class="bg-white"
      *ngFor="let product of productsWithCartStatus$ | async"
    >
      <mat-card class="product bg-white">
        <mat-card-header>
          <mat-card-title>{{ product["name"] }}</mat-card-title>
          <mat-card-subtitle
            >Price: {{ product["price"] | currency : "PHP" }}
          </mat-card-subtitle>

          <mat-card-subtitle
            >Available: {{ product["quantity"] }} pcs</mat-card-subtitle
          >
          <mat-card-subtitle>Id: {{ product["id"] }} pcs</mat-card-subtitle>
        </mat-card-header>

        <img
          mat-card-image
          class="bg-white px-3"
          [src]="product['image']"
          alt="{{ product['name'] }}"
        />
        <mat-card-content class="bg-white">
          <p class="bg-white pb-5">
            {{ product["description"] }}
          </p>
        </mat-card-content>

        <mat-card-actions
          class="bg-white sticky bottom-0 pt-2 pb-7 mr-[-10px] ml-[-10px] w-auto"
        >
          <mat-grid-list class="z-30 w-full" cols="3">
            <button
              [disabled]="product['isInCart']"
              class="hover:bg-stone-500 hover:text-white text-stone-500 py-2 px-2 rounded-lg mr-2"
              (click)="addToCart(product)"
            >
              {{ product["isInCart"] ? "Already in cart" : "Add to cart" }}
            </button>
          </mat-grid-list></mat-card-actions
        >
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
  <hr />
  <div class="text-center align-middle items-center">
    <h3 class="text-2xl text-red-500">
      You have: {{ cartQuantity }} products in your cart
    </h3>
  </div>
  <hr />
  <div class="flex justify-center my-3">
    <button
      (click)="openCartDialog()"
      class="hover:bg-stone-500 hover:text-stone-500 text-white py-2 px-2 rounded-lg mr-2 non-cart-button"
    >
      View cart
    </button>
  </div>
  <hr />
  <div class="flex justify-center my-3">
    <button
      type="button"
      (click)="logout()"
      class="hover:bg-stone-500 hover:text-stone-500 text-white py-2 px-2 rounded-lg mr-2 logout-button"
    >
      Log out
    </button>
  </div>
</div>
<div></div>
